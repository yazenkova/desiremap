{"ast":null,"code":"import _regeneratorRuntime from\"/Users/yazenkova/Desktop/AgileIntPPMTool-master/desire-map-react-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/yazenkova/Desktop/AgileIntPPMTool-master/desire-map-react-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import{GET_ERRORS,GET_DESIRE_LIST,GET_DESIRE,DELETE_DESIRE}from\"./types\";export var addDesire=function addDesire(desireList_id,desire,history){return(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"/api/desireList/\".concat(desireList_id),desire);case 3:history.push(\"/mapBoard/\".concat(desireList_id));dispatch({type:GET_ERRORS,payload:{}});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);dispatch({type:GET_ERRORS,payload:_context.t0.response.data});case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function(_x){return _ref.apply(this,arguments);};}());};export var getDesireList=function getDesireList(desireList_id){return(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"/api/desireList/\".concat(desireList_id));case 3:res=_context2.sent;dispatch({type:GET_DESIRE_LIST,payload:res.data});_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);dispatch({type:GET_ERRORS,payload:_context2.t0.response.data});case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function(_x2){return _ref2.apply(this,arguments);};}());};export var getDesire=function getDesire(desireList_id,desire_id,history){return(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.get(\"/api/desireList/\".concat(desireList_id,\"/\").concat(desire_id));case 3:res=_context3.sent;dispatch({type:GET_DESIRE,payload:res.data});_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);history.push(\"/board\");case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return function(_x3){return _ref3.apply(this,arguments);};}());};export var updateDesire=function updateDesire(desireList_id,desire_id,desire,history){return(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.patch(\"/api/desireList/\".concat(desireList_id,\"/\").concat(desire_id),desire);case 3:history.push(\"/mapBoard/\".concat(desireList_id));dispatch({type:GET_ERRORS,payload:{}});_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);dispatch({type:GET_ERRORS,payload:_context4.t0.response.data});case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function(_x4){return _ref4.apply(this,arguments);};}());};export var deleteDesire=function deleteDesire(desireList_id,desire_id){return(/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(!window.confirm(\"You are deleting map task \".concat(desire_id,\", this action cannot be undone\"))){_context5.next=4;break;}_context5.next=3;return axios.delete(\"/api/desireList/\".concat(desireList_id,\"/\").concat(desire_id));case 3:dispatch({type:DELETE_DESIRE,payload:desire_id});case 4:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x5){return _ref5.apply(this,arguments);};}());};","map":{"version":3,"sources":["/Users/yazenkova/Desktop/AgileIntPPMTool-master/desire-map-react-client/src/actions/desireListActions.js"],"names":["axios","GET_ERRORS","GET_DESIRE_LIST","GET_DESIRE","DELETE_DESIRE","addDesire","desireList_id","desire","history","dispatch","post","push","type","payload","response","data","getDesireList","get","res","getDesire","desire_id","updateDesire","patch","deleteDesire","window","confirm","delete"],"mappings":"yXAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OACEC,UADF,CAEEC,eAFF,CAGEC,UAHF,CAIEC,aAJF,KAKO,SALP,CAOA,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,aAAD,CAAgBC,MAAhB,CAAwBC,OAAxB,kGAAoC,iBAC3DC,QAD2D,wJAInDT,CAAAA,KAAK,CAACU,IAAN,2BAA8BJ,aAA9B,EAA+CC,MAA/C,CAJmD,QAKzDC,OAAO,CAACG,IAAR,qBAA0BL,aAA1B,GACAG,QAAQ,CAAC,CACPG,IAAI,CAAEX,UADC,CAEPY,OAAO,CAAE,EAFF,CAAD,CAAR,CANyD,+EAWzDJ,QAAQ,CAAC,CACPG,IAAI,CAAEX,UADC,CAEPY,OAAO,CAAE,YAAIC,QAAJ,CAAaC,IAFf,CAAD,CAAR,CAXyD,oEAApC,iEAAlB,CAkBP,MAAO,IAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACV,aAAD,mGAAmB,kBAAOG,QAAP,sKAE1BT,CAAAA,KAAK,CAACiB,GAAN,2BAA6BX,aAA7B,EAF0B,QAEtCY,GAFsC,gBAG5CT,QAAQ,CAAC,CACPG,IAAI,CAAEV,eADC,CAEPW,OAAO,CAAEK,GAAG,CAACH,IAFN,CAAD,CAAR,CAH4C,mFAQ5CN,QAAQ,CAAC,CACPG,IAAI,CAAEX,UADC,CAEPY,OAAO,CAAE,aAAIC,QAAJ,CAAaC,IAFf,CAAD,CAAR,CAR4C,sEAAnB,mEAAtB,CAeP,MAAO,IAAMI,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACb,aAAD,CAAgBc,SAAhB,CAA2BZ,OAA3B,mGAAuC,kBAC9DC,QAD8D,sKAI1CT,CAAAA,KAAK,CAACiB,GAAN,2BACGX,aADH,aACoBc,SADpB,EAJ0C,QAItDF,GAJsD,gBAO5DT,QAAQ,CAAC,CACPG,IAAI,CAAET,UADC,CAEPU,OAAO,CAAEK,GAAG,CAACH,IAFN,CAAD,CAAR,CAP4D,mFAY5DP,OAAO,CAACG,IAAR,CAAa,QAAb,EAZ4D,sEAAvC,mEAAlB,CAgBP,MAAO,IAAMU,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAC1Bf,aAD0B,CAE1Bc,SAF0B,CAG1Bb,MAH0B,CAI1BC,OAJ0B,mGAKvB,kBAAOC,QAAP,8JAEKT,CAAAA,KAAK,CAACsB,KAAN,2BAA+BhB,aAA/B,aAAgDc,SAAhD,EAA6Db,MAA7D,CAFL,QAGDC,OAAO,CAACG,IAAR,qBAA0BL,aAA1B,GACAG,QAAQ,CAAC,CACPG,IAAI,CAAEX,UADC,CAEPY,OAAO,CAAE,EAFF,CAAD,CAAR,CAJC,mFASDJ,QAAQ,CAAC,CACPG,IAAI,CAAEX,UADC,CAEPY,OAAO,CAAE,aAAIC,QAAJ,CAAaC,IAFf,CAAD,CAAR,CATC,sEALuB,mEAArB,CAqBP,MAAO,IAAMQ,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACjB,aAAD,CAAgBc,SAAhB,mGAA8B,kBAAOX,QAAP,0HAEtDe,MAAM,CAACC,OAAP,qCAC+BL,SAD/B,mCAFsD,iDAMhDpB,CAAAA,KAAK,CAAC0B,MAAN,2BAAgCpB,aAAhC,aAAiDc,SAAjD,EANgD,QAOtDX,QAAQ,CAAC,CACPG,IAAI,CAAER,aADC,CAEPS,OAAO,CAAEO,SAFF,CAAD,CAAR,CAPsD,wDAA9B,mEAArB","sourcesContent":["import axios from \"axios\";\nimport {\n  GET_ERRORS,\n  GET_DESIRE_LIST,\n  GET_DESIRE,\n  DELETE_DESIRE,\n} from \"./types\";\n\nexport const addDesire = (desireList_id, desire, history) => async (\n  dispatch\n) => {\n  try {\n    await axios.post(`/api/desireList/${desireList_id}`, desire);\n    history.push(`/mapBoard/${desireList_id}`);\n    dispatch({\n      type: GET_ERRORS,\n      payload: {},\n    });\n  } catch (err) {\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data,\n    });\n  }\n};\n\nexport const getDesireList = (desireList_id) => async (dispatch) => {\n  try {\n    const res = await axios.get(`/api/desireList/${desireList_id}`);\n    dispatch({\n      type: GET_DESIRE_LIST,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data,\n    });\n  }\n};\n\nexport const getDesire = (desireList_id, desire_id, history) => async (\n  dispatch\n) => {\n  try {\n    const res = await axios.get(\n      `/api/desireList/${desireList_id}/${desire_id}`\n    );\n    dispatch({\n      type: GET_DESIRE,\n      payload: res.data,\n    });\n  } catch (err) {\n    history.push(\"/board\");\n  }\n};\n\nexport const updateDesire = (\n  desireList_id,\n  desire_id,\n  desire,\n  history\n) => async (dispatch) => {\n  try {\n    await axios.patch(`/api/desireList/${desireList_id}/${desire_id}`, desire);\n    history.push(`/mapBoard/${desireList_id}`);\n    dispatch({\n      type: GET_ERRORS,\n      payload: {},\n    });\n  } catch (err) {\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data,\n    });\n  }\n};\n\nexport const deleteDesire = (desireList_id, desire_id) => async (dispatch) => {\n  if (\n    window.confirm(\n      `You are deleting map task ${desire_id}, this action cannot be undone`\n    )\n  ) {\n    await axios.delete(`/api/desireList/${desireList_id}/${desire_id}`);\n    dispatch({\n      type: DELETE_DESIRE,\n      payload: desire_id,\n    });\n  }\n};\n"]},"metadata":{},"sourceType":"module"}