{"ast":null,"code":"import _regeneratorRuntime from\"/Users/yazenkova/Desktop/AgileIntPPMTool-master/desire-map-react-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/yazenkova/Desktop/AgileIntPPMTool-master/desire-map-react-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import{GET_ERRORS,GET_MAPS,GET_MAP,DELETE_MAP}from\"./types\";export var createMap=function createMap(map,history){return(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"/api/map\",map);case 3:history.push(\"/board\");dispatch({type:GET_ERRORS,payload:{}});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);dispatch({type:GET_ERRORS,payload:_context.t0.response.data});case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function(_x){return _ref.apply(this,arguments);};}());};export var getMaps=function getMaps(){return(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"/api/map/all\");case 2:res=_context2.sent;dispatch({type:GET_MAPS,payload:res.data});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}());};export var getMap=function getMap(id,history){return(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.get(\"/api/map/\".concat(id));case 3:res=_context3.sent;dispatch({type:GET_MAP,payload:res.data});_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);history.push(\"/board\");case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return function(_x3){return _ref3.apply(this,arguments);};}());};export var deleteMap=function deleteMap(id){return(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(!window.confirm(\"Are you sure? This will delete the map and all the data related to it\")){_context4.next=4;break;}_context4.next=3;return axios.delete(\"/api/map/\".concat(id));case 3:dispatch({type:DELETE_MAP,payload:id});case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x4){return _ref4.apply(this,arguments);};}());};","map":{"version":3,"sources":["/Users/yazenkova/Desktop/AgileIntPPMTool-master/desire-map-react-client/src/actions/mapActions.js"],"names":["axios","GET_ERRORS","GET_MAPS","GET_MAP","DELETE_MAP","createMap","map","history","dispatch","post","push","type","payload","response","data","getMaps","get","res","getMap","id","deleteMap","window","confirm","delete"],"mappings":"yXAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,CAAqBC,QAArB,CAA+BC,OAA/B,CAAwCC,UAAxC,KAA0D,SAA1D,CAEA,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,GAAD,CAAMC,OAAN,kGAAkB,iBAAOC,QAAP,wJAEjCR,CAAAA,KAAK,CAACS,IAAN,CAAW,UAAX,CAAuBH,GAAvB,CAFiC,QAGvCC,OAAO,CAACG,IAAR,CAAa,QAAb,EACAF,QAAQ,CAAC,CACPG,IAAI,CAAEV,UADC,CAEPW,OAAO,CAAE,EAFF,CAAD,CAAR,CAJuC,+EASvCJ,QAAQ,CAAC,CACPG,IAAI,CAAEV,UADC,CAEPW,OAAO,CAAE,YAAIC,QAAJ,CAAaC,IAFf,CAAD,CAAR,CATuC,oEAAlB,iEAAlB,CAgBP,MAAO,IAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,oGAAM,kBAAOP,QAAP,qJACTR,CAAAA,KAAK,CAACgB,GAAN,CAAU,cAAV,CADS,QACrBC,GADqB,gBAE3BT,QAAQ,CAAC,CACPG,IAAI,CAAET,QADC,CAEPU,OAAO,CAAEK,GAAG,CAACH,IAFN,CAAD,CAAR,CAF2B,wDAAN,mEAAhB,CAQP,MAAO,IAAMI,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,EAAD,CAAKZ,OAAL,mGAAiB,kBAAOC,QAAP,sKAEjBR,CAAAA,KAAK,CAACgB,GAAN,oBAAsBG,EAAtB,EAFiB,QAE7BF,GAF6B,gBAGnCT,QAAQ,CAAC,CACPG,IAAI,CAAER,OADC,CAEPS,OAAO,CAAEK,GAAG,CAACH,IAFN,CAAD,CAAR,CAHmC,mFAQnCP,OAAO,CAACG,IAAR,CAAa,QAAb,EARmC,sEAAjB,mEAAf,CAYP,MAAO,IAAMU,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACD,EAAD,mGAAQ,kBAAOX,QAAP,0HAE7Ba,MAAM,CAACC,OAAP,CACE,uEADF,CAF6B,iDAMvBtB,CAAAA,KAAK,CAACuB,MAAN,oBAAyBJ,EAAzB,EANuB,QAO7BX,QAAQ,CAAC,CACPG,IAAI,CAAEP,UADC,CAEPQ,OAAO,CAAEO,EAFF,CAAD,CAAR,CAP6B,wDAAR,mEAAlB","sourcesContent":["import axios from \"axios\";\nimport { GET_ERRORS, GET_MAPS, GET_MAP, DELETE_MAP } from \"./types\";\n\nexport const createMap = (map, history) => async (dispatch) => {\n  try {\n    await axios.post(\"/api/map\", map);\n    history.push(\"/board\");\n    dispatch({\n      type: GET_ERRORS,\n      payload: {},\n    });\n  } catch (err) {\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data,\n    });\n  }\n};\n\nexport const getMaps = () => async (dispatch) => {\n  const res = await axios.get(\"/api/map/all\");\n  dispatch({\n    type: GET_MAPS,\n    payload: res.data,\n  });\n};\n\nexport const getMap = (id, history) => async (dispatch) => {\n  try {\n    const res = await axios.get(`/api/map/${id}`);\n    dispatch({\n      type: GET_MAP,\n      payload: res.data,\n    });\n  } catch (error) {\n    history.push(\"/board\");\n  }\n};\n\nexport const deleteMap = (id) => async (dispatch) => {\n  if (\n    window.confirm(\n      \"Are you sure? This will delete the map and all the data related to it\"\n    )\n  ) {\n    await axios.delete(`/api/map/${id}`);\n    dispatch({\n      type: DELETE_MAP,\n      payload: id,\n    });\n  }\n};\n"]},"metadata":{},"sourceType":"module"}